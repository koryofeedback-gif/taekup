HomePlatforms and marketplacesOnboard accountsChoose your onboarding configuration

Stripe-hosted onboarding
Onboard connected accounts by redirecting them to a Stripe-hosted onboarding flow.
Ask about this page
Copy for LLM

View as Markdown
You're integrating in Test mode. Try using a sandbox instead.

Switch to a sandbox
Stripe-hosted onboarding handles the collection of business and identity verification information from connected accounts, requiring minimal effort by the platform. It’s a web form hosted by Stripe that renders dynamically based on the capabilities, country, and business type of each connected account.


The hosted onboarding form in the Stripe sample integration, Furever.


Accounts v2

Accounts v1
Stripe-hosted onboarding supports networked onboarding, which allows owners of multiple Stripe accounts to share business information between them. When they onboard an account, they can reuse that information from an existing account instead of resubmitting it.

Customize the onboarding formDashboard
Go to the Connect settings page in the Dashboard to customize the visual appearance of the form with your brand’s name, color, and icon. Stripe-hosted onboarding requires this information. Stripe also recommends collecting bank account information from your connected accounts as they’re onboarding.

Create an account and prefill informationServer-side
For each connected account, use the Accounts v2 API to create an Account object with the merchant configuration. If you want to charge your connected accounts using subscriptions, also assign the customer configuration. To assign a configuration, simply include it in a create or update call. You don’t have to request any of its capabilities.

If you specify the account’s country or request any capabilities for it, then the account owner can’t change its country. Otherwise, it depends on the account’s Dashboard access:

Full Stripe Dashboard: During onboarding, the account owner can select any acquiring country, the same as when signing up for a normal Stripe account. Stripe automatically requests a set of capabilities for the account based on the selected country.
Express Dashboard: During onboarding, the account owner can select from a list of countries that you configure in your platform Dashboard Onboarding options. You can also configure those options to specify the default capabilities to request for accounts in each country.
No Stripe Dashboard: If Stripe is responsible for collecting requirements, then the onboarding flow lets the account owner select any acquiring country. Otherwise, your custom onboarding flow must set the country and request capabilities.
Use include to populate objects in the response
When you create, retrieve, or update an Account in API v2, certain properties are only populated in the response if you specify them in the include parameter. For any of those properties that you don’t specify, the response includes them as null, regardless of their actual value.

Command Line
Select a language
Select a language
cURL



curl -X POST https://api.stripe.com/v2/core/accounts \
  -H "Authorization: Bearer sk_test_51SZL3cRhYhunDn2j7lnS3MvxXDV73eaf6LvLr7Jej4GefNAIvcNt8bQquo88uDJ1KQnWThuv5L9A9jJpr3uFlmOe00fjEe97z1" \
  -H "Stripe-Version: 2025-04-30.preview" \
  --json '{
    "contact_email": "furever_contact@example.com",
    "display_name": "Furever",
    "dashboard": "full",
    "identity": {
        "business_details": {
            "registered_name": "Furever"
        },
        "country": "us",
        "entity_type": "company"
    },
    "configuration": {
        "customer": {},
        "merchant": {
            "capabilities": {
                "card_payments": {
                    "requested": true
                }
            }
        }
    },
    "defaults": {
        "currency": "usd",
        "responsibilities": {
            "fees_collector": "stripe",
            "losses_collector": "stripe"
        },
        "locales": [
            "en-US"
        ]
    },
    "include": [
        "configuration.customer",
        "configuration.merchant",
        "identity",
        "requirements"
    ]
  }'
The response includes the ID, which you use to reference the Account throughout your integration.

Request capabilities
You can request capabilities when creating an account by setting the desired capabilities’ requested property to true. For accounts with access to the Express Dashboard, you can also configure your Onboarding options to automatically request certain capabilities when creating an account.

Stripe’s onboarding UIs automatically collect the requirements for requested capabilities. To reduce onboarding effort, request only the capabilities you need.

Prefill information
If you have information about the account holder (like their name, address, or other details), you can simplify onboarding by providing it when you create or update the account. The onboarding interface asks the account holder to confirm the pre-filled information before accepting the Connect service agreement. The account holder can edit any pre-filled information before they accept the service agreement, even if you provided the information using the Accounts API.

If you onboard an account and your platform provides it with a URL, prefill the account’s defaults.profile.business_url. If the business doesn’t have a URL, you can prefill its defaults.profile.product_description instead.

When testing your integration, use test data to simulate different outcomes including identity verification, business information verification, payout failures, and more.

Determine the information to collect
As the platform, you must decide if you want to collect the required information from your connected accounts up front or incrementally. Up-front onboarding collects the eventually_due requirements for the account, while incremental onboarding only collects the currently_due requirements.

Onboarding type	Advantages
Up-front	
Normally requires only one request for all information
Avoids the possibility of payout and processing issues due to missed deadlines
Exposes potential risk early when accounts refuse to provide information
Incremental	
Accounts can onboard quickly because they don’t have to provide as much information
To determine whether to use up-front or incremental onboarding, review the requirements for your connected accounts’ locations and capabilities. While Stripe tries to minimize any impact to connected accounts, requirements might change over time.

For connected accounts where you’re responsible for requirement collection, you can customize the behavior of future requirements using the collection_options parameter. To collect the account’s future requirements, set collection_options.future_requirements to include.

Create an Account LinkServer-side
Create an Account Link using the connected account ID and include a use_case.account_onboarding.refresh_url and a use_case.account_onboarding.return_url. Stripe redirects the connected account to the refresh URL if the Account Link URL has already been visited, has expired, or is otherwise invalid. Stripe redirects connected accounts to the return URL when they have completed or left the onboarding flow. Additionally, based on the information you need to collect, pass either currently_due or eventually_due for use_case.account_onboarding.collection_options.fields. This example passes eventually_due to use up-front onboarding. For incremental onboarding, set it to currently_due.

Command Line
Select a language
Select a language
cURL



curl -X POST https://api.stripe.com/v2/core/account_links \
  -H "Authorization: Bearer sk_test_51SZL3cRhYhunDn2j7lnS3MvxXDV73eaf6LvLr7Jej4GefNAIvcNt8bQquo88uDJ1KQnWThuv5L9A9jJpr3uFlmOe00fjEe97z1" \
  -H "Stripe-Version: 2025-07-30.preview" \
  --json '{
    "account": "{{CONNECTED_ACCOUNT_ID}}",
    "use_case": {
        "type": "account_onboarding",
        "account_onboarding": {
            "collection_options": {
                "fields": "eventually_due"
            },
            "configurations": [
                "merchant"
            ],
            "return_url": "https://example.com/return",
            "refresh_url": "https://example.com/refresh"
        }
    }
  }'
Redirect your connected account to the Account Link URL
Redirect the connected account to the Account Link URL to send them to the onboarding flow. You can only use each temporary Account Link URL once, because it grants access to the account holder’s personal information. Authenticate the account in your application before redirecting them to this URL. Prefill any account information before generating the Account Link because you can’t read or write information for the connected account afterward.

Security tip
Don’t email, text, or otherwise send account link URLs outside of your platform application. Instead, provide them to the authenticated account holder within your application.


iOS

Android
ConnectOnboardViewController.swift
Select a language
Select a language
Swift



import UIKit
import SafariServices

let BackendAPIBaseURL: String = "" // Set to the URL of your backend server

class ConnectOnboardViewController: UIViewController {

    // ...

    override func viewDidLoad() {
        super.viewDidLoad()

        let connectWithStripeButton = UIButton(type: .system)
        connectWithStripeButton.setTitle("Connect with Stripe", for: .normal)
        connectWithStripeButton.addTarget(self, action: #selector(didSelectConnectWithStripe), for: .touchUpInside)
        view.addSubview(connectWithStripeButton)

        // ...
    }

    @objc
    func didSelectConnectWithStripe() {
        if let url = URL(string: BackendAPIBaseURL)?.appendingPathComponent("onboard-user") {
          var request = URLRequest(url: url)
          request.httpMethod = "POST"
          let task = URLSession.shared.dataTask(with: request) { (data, response, error) in
              guard let data = data,
                  let json = try? JSONSerialization.jsonObject(with: data, options: []) as? [String : Any],
                  let accountURLString = json["url"] as? String,
                  let accountURL = URL(string: accountURLString) else {
                      // handle error
              }

              let safariViewController = SFSafariViewController(url: accountURL)
              safariViewController.delegate = self

              DispatchQueue.main.async {
                  self.present(safariViewController, animated: true, completion: nil)
              }
          }
        }
    }

    // ...
}

extension ConnectOnboardViewController: SFSafariViewControllerDelegate {
    func safariViewControllerDidFinish(_ controller: SFSafariViewController) {
        // the user may have closed the SFSafariViewController instance before a redirect
        // occurred. Sync with your backend to confirm the correct state
    }
}
Identify and address requirement updatesServer-side
Set up your integration to listen for changes to account requirements. You can test handling new requirements (and how they might disable charges and payouts) with the test trigger cards.

Send a connected account back through onboarding when it has any currently_due or eventually_due requirements. You don’t need to identify the specific requirements, because the onboarding interface knows what information it needs to collect. For example, if a typo is preventing verification of the account owner’s identity, onboarding prompts them to upload an identity document.

Stripe notifies you about any upcoming requirements updates that affect your connected accounts. You can proactively collect this information by reviewing your accounts’ requirements that have a requested_reasons.code of future_requirements.

For connected accounts where Stripe is responsible for collecting requirements, stop receiving updates for identity information after creating an Account Link or Account Session.

Accounts store identity information in the identity hash.

Handle verification errors
Listen to the v2.core.account[requirements].updated event. If the account contains any requirements with a minimum_deadline.status of currently_due when the deadline arrives, the corresponding functionality is disabled and those statuses become past_due.

Let your accounts remediate their verification requirements by directing them to the Stripe-hosted onboarding form.








Handle the connected account returning to your platformServer-side
The Account Link requires a refresh_url and return_url to handle all cases in which the connected account is redirected back to your platform. It’s important to implement these correctly to provide the best onboarding flow for your connected accounts.

Note
You can use HTTP for your refresh_url and return_url while you’re in a testing environment (for example, to test locally), but live mode only accepts HTTPS. Be sure you’ve swapped any testing URLs for HTTPS URLs before going live.

Refresh URL
Your connected account is redirected to the refresh_url when:

The link is expired (a few minutes went by since the link was created).
The link was already visited (the connected account refreshed the page or clicked the back or forward button).
The link was shared in a third-party application such as a messaging client that attempts to access the URL to preview it. Many clients automatically visit links, which causes an Account Link to expire.
The refresh_url should call a method on your server to create a new Account Link with the same parameters and redirect the connected account to the new Account Link URL.

Return URL
Stripe redirects the connected account back to this URL when they complete the onboarding flow or click Save for later at any point in the flow. It doesn’t mean that all information has been collected, or that there are no outstanding requirements on the account. It only means the flow was entered and exited properly.

This URL passes no state. After redirecting a connected account to the return_url, determine whether the account completed onboarding. Retrieve the account and check the requirements hash for outstanding requirements. Alternatively, listen to the v2.core.account[requirements].updated event sent to your webhook endpoint and cache the state of the account in your application. If onboarding is incomplete, provide prompts in your application to allow them to continue onboarding later.

Handle connected account-initiated updatesServer-side
Stripe-hosted onboarding also supports connected account-initiated updates to the information they’ve already provided. Listen to the v2.core.account[requirements].updated event sent to your webhook endpoint to be notified when the account completes requirements and updates their information.

When you create an Account Link, you can set the type to either account_onboarding or account_update.

Account Link type restriction
You can create Account Links of type account_update only for connected accounts where your platform is responsible for collecting requirements, including Custom accounts. You can’t create them for accounts that have access to a Stripe-hosted Dashboard. If you use Connect embedded components, you can include components that allow your connected accounts to update their own information. For an account without Stripe-hosted Dashboard access where Stripe is liable for negative balances, you must use embedded components.

Account Links for account_onboarding
Account Links of this type provide a form for inputting outstanding requirements. Use it when you’re onboarding a new connected account, or when an existing user has new requirements (such as when a connected account had already provided enough information, but you requested a new capability that needs additional info). Send them to this type of Account Link to just collect the new information you need.

Account Links for account_update
Account Links of this type are enabled for accounts where your platform is responsible for requirement collection. account_update links display the attributes that are already populated on the account object and allow the connected account to edit previously provided information. Provide an option in your application (for example, “edit my profile” or “update my verification information”) for connected accounts to make updates themselves.